# 虚拟化与云计算第二次作业

选取的作业
1. 数据应用管理（第二项)
	1.  能够独立安装MySQL数据库
	2. 能够使用简单的SQL命令进行数据表的创建与删除操作
	3. 能够使用SQL命令进行数据的增删改查
	4. 能够使用SQL命令进行基本的查询优化
2. 网络应用管理 (第三项)
	1. 能够运用网络地址与掩码知识进行基本的IP地址的识别和转换
	2. 能够判断与检测网络连通性
	3. 能够根据TCP/IP协议及基本的网络知识排查简单的网络故障
	4. 能够使用常见的网络故障排查工具

## 数据应用管理
### MySQL数据库的安装
1. 从官网下载 
2. 安装好之后显示如下画面
![](../attachment/fdf605141262f946de56bccd1447565.png)
> 配置好的画面，可以看到显示了显示了MySQL的版本，以及一些自带的数据库。

### 创建和删除数据库和数据表
1. 创建数据库 test_db
![](../attachment/741df5ee8eda4fd4fd8b1ef8e58dd27.png)
> 创建数据库的命令

![](../attachment/0900379356853f0a92f22a4d253fa88.png)
> 查看发现创建成功

2. 创建和删除数据表
	1. 进入test_db
	![](../attachment/5a71e00feb2028865fb718190202523.png)
	2. 创建名为bjtu_student 的学生管理数据表 ，目前仅仅包括了学号和姓名两个信息
	![](../attachment/0e6360242d7af78ac051936adc55eaa.png)
	3. 为了学习数据表的删除，我还创建了test_table
	![](../attachment/35742a40bd24afe03036dca86a6986a.png)
> 可以看到在创建和删除之后都用show tables命令查看表格，可以看到test_tabled创建和删除的过程

3. 修改数据表
	1. 添加数据条目
	![](../attachment/72119c1849bbc866b87136c362149b8.png)
> 在数据表中添加了 age条目，默认是添加到尾部   


   2. 在指定位置添加
	![](../attachment/ab3ede742ec5dd5ee862af9ee40be9f.png)
> 在添加的语句的后面加上关键字，就可以指定位置添加，就比如在这里添加了first，就默认在第一行添加。

   3. 删除数据条目
   ![](../attachment/mk2022-09-29-19-03-00.png)
   > 使用drop命令进行删除，删除了性别的条目

### 数据的增删改查
#### 添加数据
1. 添加数据
![](../attachment/1da6b3d5bb4c00338c29803700cb57e.png)
> 向数据表中添加了我个人的信息，学号2028115，姓名杨佩贤，年龄21。

2. 继续添加数据
![](../attachment/3acf7c7080b26575be68b6a79134cd5.png)
>添加好的数据

#### 数据查询
1. 用SELECT * 显示表中的所有数据
![](../attachment/a7c15a42fa4f4b02ae050ba0b523747.png)
2. 查询部分数据
![](../attachment/3d80c6aafc78384c14279805862aa71.png)
> 由于仅仅select name 所以也只显示了姓名

3. 按照区间查询
![](../attachment/4d0abdc08d103ef742b484f0423e48b.png)
>从命令上来看，仅仅查询了学号在20281150 到20281160 的部分，所以也只显示了三个人
>
### 查询优化
- 参考链接1[最全 MySQL 优化方法，从此优化不再难 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/59818056)
- 参考链接2[mysql查询优化 - 搁浅的小鲸鱼 - 博客园 (cnblogs.com)](https://www.cnblogs.com/komorebiZjh/p/16186673.html)
1. 半模糊查询比全模糊查询更慢，因为半模糊会根据索引进行查询
![](../attachment/36c92a89f2e9d2231f92a246793c9d2.png)
>这时候b语句更快

2. 可以强制sql使用索引
![](../attachment/59c79cc934777d1a4bb79dc784150a6.png)
>这时候b语句更快

3. 避免使用函数或者运算，因为这样同样会导致索引失效
![](../attachment/a21249f6cbd9a567929d1eea5d89ef4.png)


## 网络应用管理
### 识别和转换ip地址
1. ip地址的概念
网络上上的每台主机(Host)都有一个**唯一的IP地址**。IP协议就是使用这个地址在主机之间传递信息，这是Internet 能够运行的基础。IP地址的长度为32位(共有2^32个IP地址)，**分为4段，每段8位**，用十进制数字表示，每段数字范围为0～255，段与段之间用句点隔开。例如159.226.1.1。IP地址可以视为网络标识号码与主机标识号码两部分，因此IP地址可分两部分组成，一部分为网络地址，另一部分为主机地址。IP地址分为A、B、C、D、E5类，它们适用的类型分别为：大型网络；中型网络；小型网络；多目地址；备用。常用的是B和C两类。
2. 掩码的概念
掩码的作用就是将某个IP地址划分成“网络地址”和“主机地址”两部分
**计算公式：网络地址 = IP & 子网掩码**
3. 查看自己的ip地址
在cmd命令提示行中输入ipconfig可以看到
![](../attachment/Pasted%20image%2020220929195200.png)

| 名称     | 十进制        | 二进制                              |
| -------- | ------------- | ----------------------------------- |
| ip地址   | 172.30.72.65  | 10101100.00011110.00100100.01000001 |
| 子网掩码 | 255.255.224.0 | 11111111.11111111.11100000.00000000 |
| 网络地址 | 172.30.64.1   | 10101100.00011110.00100000.0000000  |

可以看到网络地址 IP 和 子网掩码与的结果

### 检测网络的连通性
1. 检测网络的连通性
在cmd 中输入 ping 172.30.64.1（172.30.64.1是刚刚的ip地址）
![](../attachment/3ec1be4468003c68186119c266d63d8%201.png)
> 可以看到网络连通良好

如果断开网络会发现
![](../attachment/2d9218d86c19d43c186f2503ec7c91d.png)
> 请求超时

### 网络故障排查
- 参考链接 [(33条消息) 网络故障排查简单思路（思路见目录）_wangjie722703的博客-CSDN博客_网络故障排查](https://blog.csdn.net/wangjie72270/article/details/122796503)

1.网络故障排查的整体思路 
![](../attachment/Pasted%20image%2020220929202322.png)
2. 测试命令

| 名称               | 作用                                               |
| ------------------ | -------------------------------------------------- |
| ping 127.0.0.1     | 测试网卡、TCP/IP协议的安装、IP地址、子网掩码的设置 |
| ping 本机IP地址    | 本地配置或安装                                     |
| ping局域网内其他IP | 测试本地网络中的网卡和载体运行                     |
| ping 网关IP        | 测试局域网中的网关路由器                           |
|    ping 远程IP                |     测试访问Internet                                               |


![](../attachment/431be10fc953026d9eb96962dec1421.png)

> 测试的百度和雅虎的远程ip（延迟不同）